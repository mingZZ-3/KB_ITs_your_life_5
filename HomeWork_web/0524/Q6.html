<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q6</title>
    <script type="text/javascript" src="https://unpkg.com/vue"></script>
</head>
<body>
    <style>
        input {
            border-radius: 5px;
            height: 30px;
            text-align: center;
            background-color: rgb(166, 222, 234);
            border: 0px;
        }

        button {
            height: 30px;
            text-align: center;
            border-radius: 5px;
            border: 0px;
            margin-right: 5px;
            margin-top: 10px;
            padding-left: 10px;
            padding-right: 10px;
        }
    </style>
    <div id="app">
        금액 : <input type="text" v-model.number="amount"><br>
        <button @click="deposit">입금</button>
        <button @click="withdraw">출금</button>
        <button @click="firstEvent">계좌 개설 이벤트</button>
        <hr><br>
        <h3>계좌 잔고 : {{total}}</h3>
    </div>

    <script>
        const vm = Vue.createApp({
            name : 'app',
            data() {
                return {
                    isFirstEventDone : false,
                    amount : 0,
                    total : 0,
                };
            },
            methods: {
                deposit(e) {
                    let amt = this.amount;
                    if (amt <= 0) {
                        alert('0보다 큰 값을 입력해야 합니다.');
                        return;
                    }
                    this.total += amt;
                }, 
                withdraw(e) {
                    let amt = this. amount;
                    if (amt <= 0) {
                        alert('0보다 큰 값을 인출 할 수 있습니다.');
                    } else if (amt > this.total) {
                        alert('계좌보다 큰 금액을 출금할 수 없습니다.');
                    } else {
                        this.total -= amt;
                    }
                },
                firstEvent(e) {
                    if (!this.isFirstEventDone) {
                        this.total = 10000;
                        this.isFirstEventDone = true;
                    } else {
                        alert('이벤트는 한번만 가능합니다 !');
                    }
                }
            },
        }).mount('#app');
    </script>
</body>
</html>